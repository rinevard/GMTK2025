[gd_scene load_steps=7 format=3 uid="uid://cgeca52qlgh6r"]

[ext_resource type="Script" uid="uid://rig47smrvu0m" path="res://scripts/ui/ui.gd" id="1_u7n8c"]
[ext_resource type="PackedScene" uid="uid://c5laqfe5ojhb3" path="res://scenes/ui/magic_book.tscn" id="2_f5cxw"]
[ext_resource type="PackedScene" uid="uid://do6to2r30tvc0" path="res://scenes/ui/start_menu.tscn" id="3_aac20"]
[ext_resource type="Shader" uid="uid://cxhwx3capuvjn" path="res://shaders/ui.gdshader" id="4_g5kmx"]
[ext_resource type="PackedScene" uid="uid://d2qij0es4ed0t" path="res://scenes/ui/reset_menu.tscn" id="5_0dwhk"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0dwhk"]
shader = ExtResource("4_g5kmx")
shader_parameter/progress = 0.0
shader_parameter/diamondPixelSize = 50.0

[node name="UI" type="CanvasLayer"]
script = ExtResource("1_u7n8c")

[node name="MagicBook" parent="." instance=ExtResource("2_f5cxw")]
visible = false

[node name="ResetMenu" parent="." instance=ExtResource("5_0dwhk")]

[node name="StartMenu" parent="." instance=ExtResource("3_aac20")]
visible = false

[node name="TransitionMask" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_0dwhk")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0, 0, 0, 1)

[connection signal="reading_finished" from="MagicBook" to="." method="_on_magic_book_reading_finished"]
[connection signal="back_to_start" from="ResetMenu" to="." method="_on_reset_menu_back_to_start"]
[connection signal="reset_level" from="ResetMenu" to="." method="_on_reset_menu_reset_level"]
[connection signal="game_end" from="StartMenu" to="." method="_on_start_menu_game_end"]
[connection signal="game_start" from="StartMenu" to="." method="_on_start_menu_game_start"]
